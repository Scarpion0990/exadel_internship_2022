name: GitHub Actions Demo
on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]
  workflow_dispatch:
  
jobs:
  First-Job:
    runs-on: ubuntu-latest
    steps:
      - name: Check out repository code
        uses: actions/checkout@v2
      - name: Printing the list of files/directories in my github repository ${{ github.repository }}
        run: |
          tree .
      - name: Printing content of my log.txt file
        run: |
          cat ${{ github.workspace }}/Task1/log.txt
      - name: Hello from ‚Äúmy DEPLOY_VER variable‚Äôs content‚Äù commit
        run: |
          DEPLOY_VER=$(git rev-parse --short HEAD)
          echo "Hello from ‚Äúmy $DEPLOY_VER variable‚Äôs content‚Äù commit"
      - run: echo "üçè First job's status is ${{ job.status }}."
  Second-Job:
    runs-on: ubuntu-latest
    if: ${{ always() && contains(join(needs.*.result, ','), 'success') }}
    needs: [First-Job]
    steps:
      - name: Check out repository code
        uses: actions/checkout@v2
      - name: Printing the system date and time
        run: |
          date '+%Y-%m-%d %H:%M:%S'
      - name: Printing my variable‚Äôs content
        env:
          MONTH: 02
          DAY__OF_THE_MONTH: 15
          YEAR: 2022
        run: |
          echo "Day - ${{env.DAY__OF_THE_MONTH}}\n Month - ${{env.MONTH}}\n Year - ${{env.YEAR}}."
      - name: Favorite day of week
        env:
          FDW: ${{ secrets.FAVORITE_DAY_OF_WEEK}}
        run: |
          echo ‚ÄúMy favorite day of week is $FDW‚Äù
      - run: echo "üçè Second job's status is ${{ job.status }}."